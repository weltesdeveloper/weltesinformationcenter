/*!
 * Power Table v1.1 (http://rcpyksl.com/table)
 * Copyright 2014
 */
$.fn.powertable=function(e){var t={ajaxseturl:"0",ajaxsetmethod:"POST",sortclass:"text-success",headclass:"text-danger",showsize:"1000",loadmoresize:"10"};var e=$.extend(t,e);return this.each(function(){function g(e){return e%1===0}function y(e){return e===+e&&e!==(e|0)}function b(e,t){if(g(e[1])||y(e[1])){return e[1]-t[1]}else{return e[1]<t[1]?-1:e[1]>t[1]?1:0}}function E(){var e=0;var t=$('tfoot td span[total="1"]');$.each(t,function(t,n){var r=$('tbody td[unic="'+$(this).attr("unic")+'"]:visible');$.each(r,function(t,n){e=e+parseFloat($(this).html())});$(this).html(Math.round(e*100)/100);e=0})}function S(){var t='<li><a href="#">&laquo;</a></li>';var n='<li><a href="#">&raquo;</a></li>';var r='<li class="active"><a href="#">1</a></li>';var i=$("tbody tr").length;var s=Math.ceil(i/e.showsize);for(var o=1;o<=s;o++){if(o==1){r='<li class="active" class2="pgr1"><a href="#">1</a></li>'}else{r=r+'<li class2="pgr'+o+'"><a href="#">'+o+"</a></li>"}}$('tfoot td span[pagination="1"]').html("");$('tfoot td span[pagination="1"]').append('<ul class="pagination pagination-sm" style="margin:0;">'+t+r+n+"</ul>")}$("<style type='text/css'> .powsericon { cursor : pointer; } .powsericon2 { cursor:pointer; } </style>").appendTo("head");$("thead th").addClass(e.headclass);var t=e.showsize;var n;var r=0;var i=new Array;var s=new Array;var o=$(this).find("th");$.each(o,function(e,t){$(this).attr("uni",e);i[e]=$(this).html();s[e]=$(this).html();r++});var u=$(this).find("tbody tr");$.each(u,function(e,t){$(this).attr("unictr",e);var n=$(this).find("td");$.each(n,function(t,n){$(this).attr("unictr",e)})});var a=$(this).find("tbody td,tfoot td");$.each(a,function(e,t){var n=e%r;$(this).attr("unic",n);$(this).find("span").attr("unic",n)});var f=$(this).find("th[search='1']");var l=f.html();$.each(f,function(e,t){$(this).html($(this).html()+"<span class=\"glyphicon glyphicon-search powsericon\" style='float:right;' uni='"+$(this).attr("uni")+"'></span>")});$(document).on("click",".powsericon",function(){var e=$(this).attr("uni");var t=$('th[uni="'+e+'"]');t.html('<input type=text class="form-control input-sm powserval uni'+e+'" placeholder="'+s[e]+'" value="'+s[e]+'" unicod="'+e+'">');$(".uni"+e+"").focus()});$(document).on("keyup",".powserval",function(t){var n=t.keyCode||t.which;if(n==13){$(this).blur()}var r=$(this).attr("unicod");var i=$(this).val();var s=$('td[unic="'+r+'"]');$("tbody tr").hide();$.each(s,function(e,t){var n=$(this).html().toUpperCase();if(n.search(i.toUpperCase())>-1){var r=$(this).attr("unictr");$('tbody tr[unictr="'+r+'"]').show()}});if($("#powerresultsize").val()>0){$("tbody tr:visible").slice($("#powerresultsize").val(),1e5).hide()}else{$("tbody tr:visible").slice(e.showsize,1e5).hide()}E();S()});$(document).on("blur",".powserval",function(e){var t=$(this).attr("unicod");if($(this).val()!=""){var n=$(this).val();s[t]=n}else{var n=i[t];s[t]=i[t]}$('thead th[uni="'+t+'"]').html(n+"<span class=\"glyphicon glyphicon-search powsericon\" style='float:right;' uni='"+t+"'></span>");$('thead th[uni="'+t+'"][sort="1"]').append("<span class=\"glyphicon glyphicon-sort powsersorticon powsericon2\" style='float:right; padding-right:7px;' uni='"+t+"'></span>")});var c=$(this).find("th[sort='1']");var h=c.html();var p=new Array;var d;var v="-1";var m="0";$.each(c,function(e,t){var n=$(this).attr("search");if(isNaN(n)){n=0}var r=$(this).attr("sort");if(isNaN(r)){r=0}var i=$(this).attr("filter");if(isNaN(i)){i=0}var s=parseInt(n)+parseInt(r)+parseInt(i);if(s==1&&r==1){$(this).html($(this).html()+"<span class=\"glyphicon glyphicon-sort powsersorticon\" style='float:right; padding-right:7px;' uni='"+$(this).attr("uni")+"'></span>")}else{$(this).html($(this).html()+"<span class=\"glyphicon glyphicon-sort powsersorticon powsericon2\" style='float:right; padding-right:7px;' uni='"+$(this).attr("uni")+"'></span>")}});$(document).on("click",".powsericon2",function(){var t=$(this).attr("uni");$("thead th").removeClass(e.sortclass).addClass(e.headclass);$(".powsersorticon").removeClass("glyphicon-arrow-up glyphicon-arrow-down glyphicon-sort").addClass("glyphicon-sort");$('thead th[uni="'+t+'"]').removeClass(e.headclass).addClass(e.sortclass);if(v==t){v="-1";var n=1}else{v=t;var n="0"}var r=$('td[unic="'+t+'"]');$.each(r,function(e,t){p[e]=[$(this).attr("unictr"),$(this).html()]});p.sort(b);if(n=="1"){p.reverse();$(".powsersorticon[sort!='1'][uni=\""+t+'"]').removeClass("glyphicon-arrow-down  glyphicon-sort").addClass("glyphicon-arrow-up")}else{$(".powsersorticon[sort!='1'][uni=\""+t+'"]').removeClass("glyphicon-arrow-up  glyphicon-sort").addClass("glyphicon-arrow-down")}$("thead th").removeClass("glyphicon-arrow-down").removeClass("glyphicon-arrow-up").removeClass("glyphicon-sort");$.each(p,function(e,t){var n=t;d=d+'<tr unictr="'+n[0]+'">'+$('tbody tr[unictr="'+n[0]+'"]').html()+"</tr>"});$("tbody").html("").append(d);d="";if($("#powerresultsize").val()>0){$("tbody tr:visible").slice($("#powerresultsize").val(),1e3).hide()}else{$("tbody tr:visible").slice(e.showsize,1e5).hide()}E();S()});$(document).on("click",'tbody td[input="1"]',function(){if($(this).find("input").length){return false}$(this).html('<input type="text" class="form-control" ajax-id="'+$(this).attr("ajax-id")+'" id="nowplayingg" unic="'+$(this).attr("unic")+'"  unictr="'+$(this).attr("unictr")+'" placeholder="'+$(this).html()+'" value="'+$(this).html()+'">');$("#nowplayingg").focus()});$(document).on("blur","#nowplayingg",function(){$('tbody td[unic="'+$(this).attr("unic")+'"][unictr="'+$(this).attr("unictr")+'"]').html($(this).val());if(e.ajaxseturl!=0){$.ajax({type:e.ajaxsetmethod,data:{value:$(this).val(),id:$(this).attr("ajax-id")},url:e.ajaxseturl,success:function(e){ajaxsetfunction(e)}})}});$(document).on("keydown","#nowplayingg",function(e){var t=e.keyCode||e.which;if(t==13){$(this).blur()}if(t==9){if($('td[unic="'+$(this).attr("unic")+'"][unictr="'+$(this).attr("unictr")+'"]').next().closest('td[input="1"]').length!=0){$('td[unic="'+$(this).attr("unic")+'"][unictr="'+$(this).attr("unictr")+'"]').next().closest('td[input="1"]').click()}else{var n=parseInt($(this).attr("unictr"))+parseInt(1);$('tbody td[unictr="'+n+'"]').first().click()}}});var w=$(this).find("thead th");$.each(w,function(e,t){var n=$(this).attr("search");if(isNaN(n)){n=0}var r=$(this).attr("sort");if(isNaN(r)){r=0}var i=$(this).attr("filter");if(isNaN(i)){i=0}var s=parseInt(n)+parseInt(r)+parseInt(i);if(s==1){if(n==1){$(this).addClass("powsericon")}if(r==1){$(this).addClass("powsericon2")}}});$('tfoot td span[showresult="1"]').html('<select id="powerresultsize" style="border:0; background-color:transparent; font-weight:bold;"><option value=10>10</option><option value=25>25</option><option value=50>50</option><option value=100>100</option><option value=500>500</option><option value=1000>1000</option></select>');$(function(){if($("#powerresultsize").val()>"0"){$("#powerresultsize").val(e.showsize)}$("tbody tr").hide();$("tbody tr").slice(0,+e.showsize).show();E();S()});$(document).on("change","#powerresultsize",function(){$("tbody tr").hide();$("tbody tr").slice(0,+$(this).val()).show();E();e.showsize=$(this).val();S()});if($('tfoot td span[loadmore="1"]').length=="1"){if($('tfoot td span[showresult="1"]').length=="1"&&$('tfoot td span[pagination="1"]').length=="1"){alert("Loadmore not used with showresult or pagination.")}else{$(document).on("click",'span[loadmore="1"]',function(){n=parseInt(t)+parseInt(e.loadmoresize);$("tbody tr").slice(t,n).show();t=n;if(n>=$("tbody tr").length){$(this).hide()}E();S()})}}if($('tfoot td span[pagination="1"]').length=="1"){if($('tfoot td span[loadmore="1"]').length=="1"){alert("Pagination not used with loadmore.")}else{S()}}$(document).on("click",'tfoot td span[pagination="1"] li a',function(){var t=$('ul li[class="active"] a').html();if($(this).html()=="«"){if(parseInt(t)-1==0){return false}else{var n=parseInt(t)-1}}else if($(this).html()=="»"){var r=$("tbody tr").length;var i=Math.ceil(r/e.showsize);if(parseInt(t)+1>i){return false}else{var n=parseInt(t)+1}}else{var n=$(this).html()}$("ul li").removeClass("active");$('ul li[class2="pgr'+n+'"]').addClass("active");var s=n*e.showsize;var o=s-parseInt(e.showsize);$("tbody tr").hide();$("tbody tr").slice(o,s).show();E()});$('tbody td[input="1"]').css({cursor:"pointer"});$(this).addClass("table table-hover table-striped table-bordered")})}